# Apache VirtualHost Configurations for All Individual Apps
# File: /etc/apache2/sites-available/all-apps-vhosts.conf

# Daily Engine - Port 8509
<VirtualHost *:80>
    ServerName dailyengine.xtuff.ai
    ServerAdmin wfzimmerman@gmail.com

    ErrorLog ${APACHE_LOG_DIR}/dailyengine-error.log
    CustomLog ${APACHE_LOG_DIR}/dailyengine-access.log combined

    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8509/
    ProxyPassReverse / http://127.0.0.1:8509/

    RewriteEngine On
    RewriteCond %{HTTP:Upgrade} =websocket [NC]
    RewriteRule /(.*)           ws://127.0.0.1:8509/$1 [P,L]
    RewriteCond %{HTTP:Upgrade} !=websocket [NC]
    RewriteRule /(.*)           http://127.0.0.1:8509/$1 [P,L]
</VirtualHost>

# Social Xtuff - Port 8501
<VirtualHost *:80>
    ServerName social.xtuff.ai
    ServerAdmin wfzimmerman@gmail.com

    ErrorLog ${APACHE_LOG_DIR}/social-error.log
    CustomLog ${APACHE_LOG_DIR}/social-access.log combined

    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8501/
    ProxyPassReverse / http://127.0.0.1:8501/

    RewriteEngine On
    RewriteCond %{HTTP:Upgrade} =websocket [NC]
    RewriteRule /(.*)           ws://127.0.0.1:8501/$1 [P,L]
    RewriteCond %{HTTP:Upgrade} !=websocket [NC]
    RewriteRule /(.*)           http://127.0.0.1:8501/$1 [P,L]
</VirtualHost>

# Collectiverse - Port 8503
<VirtualHost *:80>
    ServerName collectiverse.xtuff.ai
    ServerAdmin wfzimmerman@gmail.com

    ErrorLog ${APACHE_LOG_DIR}/collectiverse-error.log
    CustomLog ${APACHE_LOG_DIR}/collectiverse-access.log combined

    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8503/
    ProxyPassReverse / http://127.0.0.1:8503/

    RewriteEngine On
    RewriteCond %{HTTP:Upgrade} =websocket [NC]
    RewriteRule /(.*)           ws://127.0.0.1:8503/$1 [P,L]
    RewriteCond %{HTTP:Upgrade} !=websocket [NC]
    RewriteRule /(.*)           http://127.0.0.1:8503/$1 [P,L]
</VirtualHost>

# TrillionsOfPeople.Info - Port 8504
<VirtualHost *:80>
    ServerName trillionsofpeople.info
    ServerAlias www.trillionsofpeople.info
    ServerAdmin wfzimmerman@gmail.com

    ErrorLog ${APACHE_LOG_DIR}/trillionsofpeople-error.log
    CustomLog ${APACHE_LOG_DIR}/trillionsofpeople-access.log combined

    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8504/
    ProxyPassReverse / http://127.0.0.1:8504/

    RewriteEngine On
    RewriteCond %{HTTP:Upgrade} =websocket [NC]
    RewriteRule /(.*)           ws://127.0.0.1:8504/$1 [P,L]
    RewriteCond %{HTTP:Upgrade} !=websocket [NC]
    RewriteRule /(.*)           http://127.0.0.1:8504/$1 [P,L]
</VirtualHost>

# altDOGE - Port 8505
<VirtualHost *:80>
    ServerName altdoge.xtuff.ai
    ServerAdmin wfzimmerman@gmail.com

    ErrorLog ${APACHE_LOG_DIR}/altdoge-error.log
    CustomLog ${APACHE_LOG_DIR}/altdoge-access.log combined

    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8505/
    ProxyPassReverse / http://127.0.0.1:8505/

    RewriteEngine On
    RewriteCond %{HTTP:Upgrade} =websocket [NC]
    RewriteRule /(.*)           ws://127.0.0.1:8505/$1 [P,L]
    RewriteCond %{HTTP:Upgrade} !=websocket [NC]
    RewriteRule /(.*)           http://127.0.0.1:8505/$1 [P,L]
</VirtualHost>

# Codexes Factory - Port 8502
<VirtualHost *:80>
    ServerName codexes.nimblebooks.com
    ServerAdmin wfzimmerman@gmail.com

    ErrorLog ${APACHE_LOG_DIR}/codexes-error.log
    CustomLog ${APACHE_LOG_DIR}/codexes-access.log combined

    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8502/
    ProxyPassReverse / http://127.0.0.1:8502/

    RewriteEngine On
    RewriteCond %{HTTP:Upgrade} =websocket [NC]
    RewriteRule /(.*)           ws://127.0.0.1:8502/$1 [P,L]
    RewriteCond %{HTTP:Upgrade} !=websocket [NC]
    RewriteRule /(.*)           http://127.0.0.1:8502/$1 [P,L]
</VirtualHost>

# Resume & Contact - Port 8508
<VirtualHost *:80>
    ServerName fredzannarbor.com
    ServerAlias www.fredzannarbor.com
    ServerAdmin wfzimmerman@gmail.com

    ErrorLog ${APACHE_LOG_DIR}/fredzannarbor-error.log
    CustomLog ${APACHE_LOG_DIR}/fredzannarbor-access.log combined

    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8508/
    ProxyPassReverse / http://127.0.0.1:8508/

    RewriteEngine On
    RewriteCond %{HTTP:Upgrade} =websocket [NC]
    RewriteRule /(.*)           ws://127.0.0.1:8508/$1 [P,L]
    RewriteCond %{HTTP:Upgrade} !=websocket [NC]
    RewriteRule /(.*)           http://127.0.0.1:8508/$1 [P,L]
</VirtualHost>
